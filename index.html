<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Интернет-магазин</title>
    <link rel="stylesheet" href="static/css/style.css">
    <script defer src="static/js/vue.js"></script>
    <script defer src="static/js/productsComp.js"></script>
    <script defer src="static/js/main.js"></script>
</head>

<body>
    <div id='app' class="container_app">
        <header class="header">
            <a class="logo-link" href="index.html">
                <img class="logo" src="static/image/logo.jpeg" alt="logo">
            </a>
            <form action="#" class="search-form" @submit.prevent='filterProducts'>
                <input type="text" class="search-field" v-model="searchLine">
                <button type="submit" class="btn-search">
                    <img src="static/image/search.svg" class="img-search"></img>
                </button>
            </form>
            <div class="cart">
                <button class="btn-cart" type="button" @click="isVisibleCart = !isVisibleCart">Корзина</button>
                <div class="cart-block" v-show='isVisibleCart'>
                    <p v-if='basketItems.length == 0'>Корзина&nbspпуста</p>
                    <div class="cart-items" v-for="item of basketItems" :data-id=item.id_product >
                        <img class="product-cart__img" :src="imgBasketProduct" alt="Some image">
                        <div class="product-cart__desc">
                            <p class="product-title">{{ item.product_name }}</p>
                            <p class="product-quantity">Количество:&nbsp{{ item.quantity }}</p>
                            <p class="product-single-price">${{item.price }} за шт.</p>
                        </div>
                        <div class="aside-cart">
                            <p class="product-price">${{ item.quantity * item.price }}</p>
                            <button class="del-btn" @click="removeProduct(item)">&times;</button>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <main>
            <product-list :products="filteredProducts" :img-default="imgProduct"></product-list>
        </main>
    </div>
</body>

</html>